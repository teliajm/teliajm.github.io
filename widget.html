<html>
  <head>
    <style>
      .formfield {
        display: inline-block;
        width: 120px;
      }
      .formcontainer {
        margin: 10px;
      }
    </style>
  </head>
  <body>
    <div class="formcontainer"><span class="formfield">Instans</span><input id="instance" value="demobolaget.humany.net" /></div>
    <div class="formcontainer"><span class="formfield">Implementation</span><input id="implementation" /></div>
    <div class="formcontainer"><span class="formfield">Widget</span><input id="widget" /></div>
    <div class="formcontainer"><button id="submit">Lägg till widget på sidan</div>
    <script>
      const instanceElement = document.querySelector("#instance");
      const implementationElement = document.querySelector("#implementation");
      const widgetElement = document.querySelector("#widget");
      const submitButton = document.querySelector("#submit");
      submitButton.addEventListener("click", () => {
          const link = document.createElement("a");
          const instance = instanceElement.value;
          const implementation = implementationElement.value;
          const widget = widgetElement.value;
          link.href = `//${instance}/${widget}`;
          document.body.appendChild(link);

          const embed = document.createElement("script");
          embed.src = `//${instance}/${implementation}/embed.js`;
          document.head.appendChild(embed);
      });
    </script>
  </body>
</html>
